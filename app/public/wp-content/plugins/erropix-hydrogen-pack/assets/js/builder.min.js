function HydrogenPack(i){var e=angular.element("body"),t=angular.element("#ct-dom-tree");if(hydrogen.get("settings.structureEnhancer.enabled")&&t.on("dblclick",".ct-dom-tree-name",function(e){var t=this.getAttribute("ng-attr-node-id");i.iframeScope.setEditableFriendlyName(t)}),hydrogen.get("settings.shortcuts.enabled")&&e.on("keydown",function(e){i.hydroScope&&"function"==typeof i.hydroScope.shortcutHandler&&i.hydroScope.shortcutHandler.call(this,e)}),hydrogen.get("settings.clipboard.enabled")&&e.on("paste",function(e){if(!e.target.isContentEditable){["INPUT","TEXTAREA"].includes(e.target.nodeName)||i.hydroScope&&"function"==typeof i.hydroScope.pasteHandler&&i.hydroScope.pasteHandler.call(this,e)}}),hydrogen.get("settings.structureEnhancer.enabled")){var r=parseInt(hydrogen.get("settings.structureEnhancer.width"));r&&hydrogen.onFunction(i,"adjustViewportContainer",function(){var n=i.adjustViewportContainer;i.adjustViewportContainer=function(){if(i.showSidePanel&&i.isShowTab("sidePanel","DOMTree")){var e=i.verticalSidebar.width(),t=window.innerWidth-r-e;i.viewportContainer.css({marginLeft:e,width:t}),i.adjustArtificialViewport(t-12),i.adjustViewportRuller(),i.sidePanelElement.css({width:r})}else n()};var o=i.switchTab;i.switchTab=function(e,t){o(e,t),"sidePanel"==e&&i.adjustViewportContainer()}}),hydrogen.get("settings.structureEnhancer.openOnLoad")&&hydrogen.onFunction(i,"adjustViewportContainer",function(){i.switchTab("sidePanel","DOMTree")}),hydrogen.get("settings.structureEnhancer.expandAll")&&i.$on("iframe-scope",function(){hydrogen.onFunction(i.iframeScope,"expandAllNodes",function(){setTimeout(function(){var e;i.iframeScope.expandAllNodes(),(e=i).$$phase||e.$digest()},2e3)})})}hydrogen.get("settings.preserveAdvancedTabs.enabled")&&(i.showAdvancedTab=function(e){i.styleTabAdvance=!0,i.toggleSidebar(!0)}),i.hydroInsertCustomSVG=function(){var e=prompt("Please paste the SVG code here to be processed");if(e){var t=angular.element("<div>");try{var n=angular.element(e)}catch(e){throw new Error("Invalid SVG code")}if(n){n.attr("preserveAspectRatio","none"),n.find("[fill]").attr("fill","currentColor"),t.append(n);var o=i.iframeScope.component.active.id;i.iframeScope.component.options[o].model["oxy-shape-divider_custom_shape"]=t.html(),i.iframeScope.setOption(o,"oxy-shape-divider","oxy-shape-divider_custom_shape")}}}}"object"!=typeof hydrogen&&(hydrogen={}),angular.extend(hydrogen,{get:function(e,t,n){var o;n=n||this;return void 0===(o=e.split(".").filter(function(e){return e}).reduce(function(e,t){return e&&e[t]},n))&&(o=t),o},onFunction:function(e,t,n){var o=setInterval(function(){"function"==typeof e[t]&&(n.call(),clearInterval(o))},50)}}),"undefined"!=typeof __rocketLoaderEventCtor&&window.addEventListener("load",function(){var e=document.getElementById("cf-rocket-loader-notice");e&&(e.style.display="block")}),CTFrontendBuilderUI.directive("hydrogenPack",function(){return{restrict:"A",link:function(e){window.HydrogenPack=new HydrogenPack(e)}}}),CTFrontendBuilderUI.directive("oxygenOxyShapeDividerOxyShapeDividerCustomShape",function(){return{restrict:"C",template:function(e){var t=e.find(".oxygen-input");t.addClass("oxygen-input-with-button"),t.append('<div class="oxygen-input-button" ng-click="hydroInsertCustomSVG()">Insert</div>')}}}),hydrogen.get("settings.contentEditorEnhancer.enabled")&&CTFrontendBuilderUI.directive("ctEditButton",function(){var r,a,c=angular.element("#wp-link-wrap");function e(e){r&&r.isActiveActionTab("contentEditing")&&e.stopPropagation()}return c.on("click",e),angular.element("#wp-link-backdrop").on("click",e),angular.element("#wp-link-submit").on("click",function(e){if(r&&r.isActiveActionTab("contentEditing")){e.stopPropagation();var t=wpLink.getAttrs(),n=t.href.trim(),o="_blank"==t.target;if(n){var i='<a href="'+n+'"';o&&(i+=' target="_blank"'),i+=">"+(a.getSelection().toString()||n)+"</a>",a.execCommand("insertHTML",!1,i)}else a.execCommand("unlink",!1,""),r.showLinkDataDialog=!1,wpLink.close(),r.$apply();r.$apply()}}),{link:function(e,t,n){"link"===n.ngEditRole&&(void 0===r&&(a=(r=e).artificialViewport[0].contentWindow.document),t.on("mousedown",function(e){return e.stopImmediatePropagation(),!1}),t.on("click",function(e){var t=a.getSelection(),n=t.anchorNode.parentNode;if(wpLink.open("hydrogen-link-input"),"A"==n.nodeName&&0==n.classList.length){t.selectAllChildren(n);var o=n.getAttribute("href"),i=n.getAttribute("target");o&&(angular.element("#wp-link-url").val(o),angular.element("#wp-link-target").prop("checked","_blank"==i))}r.showLinkDataDialog=!0,c.removeClass("has-text-field"),e.stopPropagation()}))}}}),hydrogen.get("settings.conditionsEnhancer.enabled")&&(CTFrontendBuilderUI.directive("ctGlobalConditionsChooseOperator",[function(){return{restrict:"C",template:function(e,t){var n=angular.element("#tpl-conditions-modal-header").html(),o=e.children(),i=e.find("h1"),r=angular.element('<div class="ct-global-conditions-modal-body"></div>');r.append(o),e.append(i),e.append(r),n&&i.html(n)}}}]),CTFrontendBuilderUI.directive("oxyConditionMenu",[function(){return{restrict:"C",template:function(e,t){var n=angular.element("#tpl-conditions-clear-button").html();e.find(".oxy-condition-menu-button").eq(0).after(n)}}}])),hydrogen.get("settings.advancedStylesReset.enabled")&&CTFrontendBuilderUI.directive("oxygenSidebarAdvancedSubtab",[function(){var i=angular.element('<a class="hydrogen-section-clear" ng-click=""></a>');return{restrict:"C",template:function(n,o){["background","background-gradient","position","layout","typography","borders","effects","custom-css","custom-js","custom-attributes"].forEach(function(e){if(o.ngClick=="switchTab('advanced', '"+e+"')"){var t=i.clone();t.attr("ng-click","iframeScope.clearTabOptions($event, '"+e+"')"),["background","background-gradient"].includes(e)&&t.attr("ng-class","{'active': iframeScope.component.options[iframeScope.component.active.id]['model']['gradient']}"),"custom-attributes"===e&&t.attr("ng-class","{'active': iframeScope.component.options[iframeScope.component.active.id]['model']['custom-attributes']}"),t.insertAfter(n.children("span"))}})}}}]),hydrogen.get("settings.classLock.enabled")&&CTFrontendBuilderUI.directive("oxygenClassesDropdown",[function(){return{restrict:"C",template:function(){var e=document.getElementById("tpl-oxygen-classes-dropdown");if(e)return e.innerHTML}}}]),hydrogen.get("settings.preserveAdvancedTabs.enabled")&&CTFrontendBuilderUI.directive("oxygenSidebarTabs",[function(){return{restrict:"C",template:function(e,t){e.children().each(function(){var e=this.getAttribute("ng-click");e&&-1!=e.indexOf("styleTabAdvance=true")&&this.setAttribute("ng-click","showAdvancedTab($event);")})}}}]);